import { expect, it } from "@jest/globals";
import { schema } from "@mo36924/graphql-schema";
import { raw } from "jest-snapshot-serializer-raw";
import { data } from "./data";

it("mysql-data", () => {
  const gql = `
    type User {
      name: String!
      profile: Profile
      class: Class!
      clubs: [Club!]!
    }
    type Profile {
      age: Int
    }
    type Class {
      name: String!
      users: [User!]!
    }
    type Club {
      name: String!
      users: [User!]!
    }
  `;

  const sql = data(schema(gql));

  expect(raw(sql)).toMatchInlineSnapshot(`
    set foreign_key_checks=0;
    insert into \`Class\` (\`id\`,\`version\`,\`createdAt\`,\`updatedAt\`,\`isDeleted\`,\`name\`) values 
    (uuid_to_bin('00000000-0000-4000-a000-000000000001'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-1'),
    (uuid_to_bin('00000000-0000-4000-a000-000000000002'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-2'),
    (uuid_to_bin('00000000-0000-4000-a000-000000000003'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-3');
    insert into \`Club\` (\`id\`,\`version\`,\`createdAt\`,\`updatedAt\`,\`isDeleted\`,\`name\`) values 
    (uuid_to_bin('00000000-0000-4000-a000-000001000001'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-1'),
    (uuid_to_bin('00000000-0000-4000-a000-000001000002'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-2'),
    (uuid_to_bin('00000000-0000-4000-a000-000001000003'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-3');
    insert into \`User\` (\`id\`,\`version\`,\`createdAt\`,\`updatedAt\`,\`isDeleted\`,\`name\`,\`classId\`) values 
    (uuid_to_bin('00000000-0000-4000-a000-000002000001'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-1',uuid_to_bin('00000000-0000-4000-a000-000000000001')),
    (uuid_to_bin('00000000-0000-4000-a000-000002000002'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-2',uuid_to_bin('00000000-0000-4000-a000-000000000002')),
    (uuid_to_bin('00000000-0000-4000-a000-000002000003'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-3',uuid_to_bin('00000000-0000-4000-a000-000000000003')),
    (uuid_to_bin('00000000-0000-4000-a000-000002000004'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-4',uuid_to_bin('00000000-0000-4000-a000-000000000001')),
    (uuid_to_bin('00000000-0000-4000-a000-000002000005'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-5',uuid_to_bin('00000000-0000-4000-a000-000000000002')),
    (uuid_to_bin('00000000-0000-4000-a000-000002000006'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-6',uuid_to_bin('00000000-0000-4000-a000-000000000003')),
    (uuid_to_bin('00000000-0000-4000-a000-000002000007'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-7',uuid_to_bin('00000000-0000-4000-a000-000000000001')),
    (uuid_to_bin('00000000-0000-4000-a000-000002000008'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-8',uuid_to_bin('00000000-0000-4000-a000-000000000002')),
    (uuid_to_bin('00000000-0000-4000-a000-000002000009'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,'name-9',uuid_to_bin('00000000-0000-4000-a000-000000000003'));
    insert into \`Profile\` (\`id\`,\`version\`,\`createdAt\`,\`updatedAt\`,\`isDeleted\`,\`age\`,\`userId\`) values 
    (uuid_to_bin('00000000-0000-4000-a000-000003000001'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,0,uuid_to_bin('00000000-0000-4000-a000-000002000001')),
    (uuid_to_bin('00000000-0000-4000-a000-000003000002'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,0,uuid_to_bin('00000000-0000-4000-a000-000002000002')),
    (uuid_to_bin('00000000-0000-4000-a000-000003000003'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,0,uuid_to_bin('00000000-0000-4000-a000-000002000003')),
    (uuid_to_bin('00000000-0000-4000-a000-000003000004'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,0,uuid_to_bin('00000000-0000-4000-a000-000002000004')),
    (uuid_to_bin('00000000-0000-4000-a000-000003000005'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,0,uuid_to_bin('00000000-0000-4000-a000-000002000005')),
    (uuid_to_bin('00000000-0000-4000-a000-000003000006'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,0,uuid_to_bin('00000000-0000-4000-a000-000002000006')),
    (uuid_to_bin('00000000-0000-4000-a000-000003000007'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,0,uuid_to_bin('00000000-0000-4000-a000-000002000007')),
    (uuid_to_bin('00000000-0000-4000-a000-000003000008'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,0,uuid_to_bin('00000000-0000-4000-a000-000002000008')),
    (uuid_to_bin('00000000-0000-4000-a000-000003000009'),1,'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,0,uuid_to_bin('00000000-0000-4000-a000-000002000009'));
    insert into \`ClubToUser\` (\`id\`,\`createdAt\`,\`updatedAt\`,\`isDeleted\`,\`clubId\`,\`userId\`) values 
    (uuid_to_bin('00000000-0000-4000-a000-000004000001'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000001'),uuid_to_bin('00000000-0000-4000-a000-000002000001')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000002'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000002'),uuid_to_bin('00000000-0000-4000-a000-000002000002')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000003'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000003'),uuid_to_bin('00000000-0000-4000-a000-000002000003')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000004'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000001'),uuid_to_bin('00000000-0000-4000-a000-000002000004')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000005'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000002'),uuid_to_bin('00000000-0000-4000-a000-000002000005')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000006'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000003'),uuid_to_bin('00000000-0000-4000-a000-000002000006')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000007'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000001'),uuid_to_bin('00000000-0000-4000-a000-000002000007')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000008'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000002'),uuid_to_bin('00000000-0000-4000-a000-000002000008')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000009'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000003'),uuid_to_bin('00000000-0000-4000-a000-000002000009')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000010'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000001'),uuid_to_bin('00000000-0000-4000-a000-000002000001')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000011'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000002'),uuid_to_bin('00000000-0000-4000-a000-000002000002')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000012'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000003'),uuid_to_bin('00000000-0000-4000-a000-000002000003')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000013'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000001'),uuid_to_bin('00000000-0000-4000-a000-000002000004')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000014'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000002'),uuid_to_bin('00000000-0000-4000-a000-000002000005')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000015'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000003'),uuid_to_bin('00000000-0000-4000-a000-000002000006')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000016'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000001'),uuid_to_bin('00000000-0000-4000-a000-000002000007')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000017'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000002'),uuid_to_bin('00000000-0000-4000-a000-000002000008')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000018'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000003'),uuid_to_bin('00000000-0000-4000-a000-000002000009')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000019'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000001'),uuid_to_bin('00000000-0000-4000-a000-000002000001')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000020'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000002'),uuid_to_bin('00000000-0000-4000-a000-000002000002')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000021'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000003'),uuid_to_bin('00000000-0000-4000-a000-000002000003')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000022'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000001'),uuid_to_bin('00000000-0000-4000-a000-000002000004')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000023'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000002'),uuid_to_bin('00000000-0000-4000-a000-000002000005')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000024'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000003'),uuid_to_bin('00000000-0000-4000-a000-000002000006')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000025'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000001'),uuid_to_bin('00000000-0000-4000-a000-000002000007')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000026'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000002'),uuid_to_bin('00000000-0000-4000-a000-000002000008')),
    (uuid_to_bin('00000000-0000-4000-a000-000004000027'),'1970-01-01 00:00:00.000','1970-01-01 00:00:00.000',false,uuid_to_bin('00000000-0000-4000-a000-000001000003'),uuid_to_bin('00000000-0000-4000-a000-000002000009'));
    set foreign_key_checks=1;

  `);
});
